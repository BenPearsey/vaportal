import{g as R,j as e,t as k}from"./app-DUSEAaDk.js";import{d as _,B as D}from"./badge-Dp8nKuAQ.js";import{b as A,c as F}from"./dialog-h4m6KRJP.js";import{S as w}from"./use-mobile-navigation-xAdiOegP.js";import{B as H}from"./app-logo-icon-niQwcySJ.js";var b={exports:{}},z=b.exports,E;function I(){return E||(E=1,function(u,j){(function(s,a){u.exports=a()})(z,function(){return function(s,a,l){s=s||{};var n=a.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function d(t,i,c,v){return n.fromToBase(t,i,c,v)}l.en.relativeTime=o,n.fromToBase=function(t,i,c,v,M){for(var g,p,m,y=c.$locale().relativeTime||o,r=s.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],C=r.length,$=0;$<C;$+=1){var h=r[$];h.d&&(g=v?l(t).diff(c,h.d,!0):c.diff(t,h.d,!0));var f=(s.rounding||Math.round)(Math.abs(g));if(m=g>0,f<=h.r||!h.r){f<=1&&$>0&&(h=r[$-1]);var N=y[h.l];M&&(f=M(""+f)),p=typeof N=="string"?N.replace("%d",f):N(f,i,h.l,m);break}}if(i)return p;var Y=m?y.future:y.past;return typeof Y=="function"?Y(p):Y.replace("%s",p)},n.to=function(t,i){return d(t,i,this,!0)},n.from=function(t,i){return d(t,i,this)};var x=function(t){return t.$u?l.utc():l()};n.toNow=function(t){return this.to(x(this),t)},n.fromNow=function(t){return this.from(x(this),t)}}})}(b)),b.exports}var L=I();const Z=R(L),T=(u,j)=>_(u).format(j?"MMM D YYYY":"MMM D YYYY h:mm A"),B=(u,j,s,a,l)=>{const n=encodeURIComponent;return`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${n(u)}&dates=${_(j).utc().format("YYYYMMDD[T]HHmmss[Z]")}/${_(s).utc().format("YYYYMMDD[T]HHmmss[Z]")}&details=${n(a??"")}&location=${n(l??"")}`};function U({event:u}){const{id:j,title:s,description:a,start_datetime:l,end_datetime:n,all_day:o,location:d,priority:x="medium",status:t="scheduled",activity_type:i,reminder_minutes:c,recurrence_rule:v,user_participants:M=[],contact_participants:g=[],attachments:p=[]}=u,m=[...M.map(r=>r.display_name??r.name??r.email),...g.map(r=>r.firstname||r.lastname?`${r.firstname??""} ${r.lastname??""}`.trim():r.company??r.email??`Contact #${r.id}`)],y=async()=>{const r=[`Event: ${s}`,`When:  ${T(l,o)}${o?"":" – "+T(n,o)}`,d?`Where: ${d}`:void 0,i?`Type:  ${i}`:void 0,a?`
${a}`:void 0,m.length?`
Invitees:
- ${m.join(`
- `)}`:void 0,`
Add to Google Calendar: ${B(s,l,n,a??"",d??"")}`].filter(Boolean).join(`
`);await navigator.clipboard.writeText(r),k.success("Invite details copied")};return e.jsxs(e.Fragment,{children:[e.jsx(A,{children:e.jsx(F,{className:"text-xl",children:s})}),e.jsxs("div",{className:"space-y-2 py-2",children:[a&&e.jsx("p",{className:"whitespace-pre-line",children:a}),e.jsxs("p",{children:[e.jsx("b",{children:"When:"})," ",T(l,o)," ",!o&&e.jsxs(e.Fragment,{children:["– ",T(n,o)]})]}),e.jsxs("p",{children:[e.jsx("b",{children:"Status:"})," ",e.jsx(D,{variant:"secondary",className:"capitalize",children:t})]}),i&&e.jsxs("p",{children:[e.jsx("b",{children:"Type:"})," ",e.jsx(D,{variant:"outline",className:"capitalize",children:i})]}),e.jsxs("p",{children:[e.jsx("b",{children:"Priority:"})," ",e.jsx("span",{className:`capitalize ${x==="high"?"text-red-600":x==="low"?"text-green-600":"text-yellow-600"}`,children:x})]}),d&&e.jsxs("p",{children:[e.jsx("b",{children:"Location:"})," ",d]}),c!=null&&e.jsxs("p",{children:[e.jsx("b",{children:"Reminder:"})," ",c===1440?"1 day":`${c} min`]}),v&&e.jsx("p",{className:"text-sm italic",children:"Recurring event"}),!!p.length&&e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"my-2"}),e.jsx("b",{children:"Attachments:"}),e.jsx("ul",{className:"ml-5 list-disc",children:p.map(r=>e.jsx("li",{children:r.url?e.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:r.original_name}):r.original_name},r.id))})]}),m.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"my-2"}),e.jsx("b",{children:"Invitees:"}),e.jsx("ul",{className:"ml-5 list-disc",children:m.map(r=>e.jsx("li",{children:r},r))})]}),e.jsxs("div",{className:"pt-2",children:[e.jsx(H,{size:"sm",onClick:y,children:"Copy invite details"}),e.jsx("a",{className:"ml-2 text-sm underline text-blue-600",target:"_blank",rel:"noopener noreferrer",href:B(s,l,n,a??"",d??""),children:"Add to Google Calendar"})]})]})]})}export{U as E,Z as r};
