import{K as b,j as e,$ as h,S as p}from"./app-DUSEAaDk.js";import{F as y,w as v,x as w,y as A,z as C,B as S,E as M,G as k,N as _,H as L,J as B,K as $,L as F,D as u,a as j,b as f,c as r,M as H,Q as D,U,W as I,Y as z,Z as T,_ as R}from"./use-mobile-navigation-xAdiOegP.js";import{H as E,B as g,T as K}from"./sonner-BAI07Ub3.js";import{B as P}from"./briefcase-business-D4N79Uzy.js";import{U as V}from"./users-Dz1g4iLP.js";import{C as G,U as x}from"./user-plus-BCs7l9Mm.js";import{c as m}from"./app-logo-icon-niQwcySJ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16c.5-2 1.5-7 4-7 2 0 2 3 4 3 2.5 0 4.5-5 5-7",key:"lw07rv"}]],O=m("ChartSpline",J);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["rect",{width:"8",height:"5",x:"14",y:"17",rx:"1",key:"19aais"}],["path",{d:"M10 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v2.5",key:"1w6v7t"}],["path",{d:"M20 17v-2a2 2 0 1 0-4 0v2",key:"pwaxnr"}]],W=m("FolderLock",Q);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],Z=m("Megaphone",Y);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],X=m("Shield",q);function ee(){var n;const a=b().props;console.log("ðŸ”” [AppSidebar] shared props:",a);const{auth:t,notifications:o,unreadCount:l}=a,i=[{title:"Home",url:"/admin/dashboard",icon:E},{title:"Sales",url:"/admin/sales",icon:P},{title:"Contacts",url:"/admin/contacts",icon:V},{title:"Calendar",url:"/admin/calendar",icon:G},{title:"Forms & Resources",url:"/admin/forms-resources",icon:y},{title:"Broadcasts",url:route("admin.broadcasts.index"),icon:Z},{title:"Add New Client",url:"/admin/clients/create",icon:x},{title:"Add New Agent",url:"/admin/agents/create",icon:x},{title:"Reports",url:"/admin/reports",icon:O}];return(n=t.admin)!=null&&n.is_super_admin&&i.push({title:"Add New Admin",url:"/admin/admins/create",icon:x},{title:"Admins",url:"/admin/admins",icon:X},{title:"Admin Documents",url:"/admin/admin-documents",icon:W}),i.push({title:`Notifications${l>0?` (${l})`:""}`,url:"/admin/notifications",icon:g}),e.jsxs(v,{collapsible:"icon",variant:"inset",children:[e.jsx(w,{children:e.jsx(A,{children:e.jsx(C,{children:e.jsx(S,{size:"lg",asChild:!0,children:e.jsx(h,{href:"/admin/dashboard",prefetch:!0,children:e.jsx(M,{})})})})})}),e.jsx(k,{children:e.jsx(_,{items:i})})]})}function se({breadcrumbs:a=[]}){const{notifications:t,unreadCount:o,auth:l}=b().props,i=l.roles??[],{user:n,firstName:c,lastName:d}=L(),N=B();return e.jsxs("header",{className:"border-sidebar-border/50 flex h-16 shrink-0 items-center gap-2 border-b px-6 md:px-4",children:[e.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[e.jsx($,{className:"-ml-1"}),e.jsx(F,{breadcrumbs:a})]}),e.jsxs(u,{children:[e.jsx(j,{asChild:!0,children:e.jsxs("button",{className:"relative p-2",children:[e.jsx(g,{className:"h-6 w-6"}),o>0&&e.jsx("span",{className:"absolute -top-0.5 -right-0.5 inline-flex h-4 w-4 items-center justify-center rounded-full bg-red-600 text-xs text-white",children:o})]})}),e.jsxs(f,{align:"end",className:"w-80",children:[e.jsxs(r,{className:"flex justify-between px-4 py-2",children:[e.jsx("span",{className:"font-semibold",children:"Notifications"}),e.jsx("button",{onClick:()=>p.post(route("notifications.readAll")),className:"text-sm text-primary hover:underline",children:"Mark all read"})]}),t.length?t.map(s=>e.jsxs(r,{className:"flex items-start justify-between px-4 py-2 hover:bg-gray-100",children:[e.jsxs(h,{href:s.data.url??"#",className:"flex-1 text-sm text-gray-800 hover:text-primary",children:[e.jsx("div",{children:s.data.message}),e.jsx("div",{className:"text-xs text-gray-500",children:s.created})]}),e.jsx("button",{onClick:()=>p.post(route("notifications.read",s.id)),className:"ml-2 text-gray-400 hover:text-gray-600",children:"Ã—"})]},s.id)):e.jsx(r,{className:"px-4 py-2 text-center text-gray-500",children:"No new notifications"})]})]}),e.jsxs(u,{children:[e.jsx(j,{asChild:!0,children:e.jsxs(H,{className:"cursor-pointer",children:[e.jsx(D,{src:n==null?void 0:n.avatar,alt:`${c} ${d}`}),e.jsxs(U,{children:[c==null?void 0:c.charAt(0),d==null?void 0:d.charAt(0)]})]})}),e.jsxs(f,{align:"end",children:[i.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(r,{disabled:!0,className:"opacity-70",children:"Switch role"}),i.map(s=>e.jsx(r,{onClick:()=>p.post(route("role.switch"),{role:s},{onFinish:()=>window.location.href="/"}),children:s.charAt(0).toUpperCase()+s.slice(1)},s)),e.jsx(I,{})]}),e.jsx(r,{asChild:!0,children:e.jsx(h,{href:"/admin/settings/profile",children:"Profile"})}),e.jsx(r,{asChild:!0,children:e.jsxs(h,{className:"block w-full",method:"post",href:route("logout"),as:"button",onClick:N,children:[e.jsx(z,{className:"mr-2"}),"Log out"]})})]})]})]})}function ae({children:a,breadcrumbs:t=[]}){return e.jsxs(T,{variant:"sidebar",children:[e.jsx(ee,{}),e.jsxs(R,{variant:"sidebar",children:[e.jsx(se,{breadcrumbs:t}),a]})]})}const de=({children:a,breadcrumbs:t,...o})=>e.jsxs(ae,{breadcrumbs:t,...o,children:[a,e.jsx(K,{})]});export{de as A};
