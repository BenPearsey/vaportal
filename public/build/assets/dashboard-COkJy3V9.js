import{K as n,j as e,L as c,$ as o}from"./app-DUSEAaDk.js";import{A as m}from"./app-layout-client-i9nXo42m.js";import{C as p,a as x,b as h,c as j}from"./card-DLziDOQe.js";import{A as u}from"./aspect-ratio-m4L15rbP.js";import{V as f,R as i}from"./VideoPlayer-D4BTTsRK.js";import{S as N}from"./SalesProgressShelf-BGJJAyQn.js";import{p as a}from"./products-FRIolfiG.js";import"./use-mobile-navigation-xAdiOegP.js";import"./app-logo-icon-niQwcySJ.js";import"./index-CsbLVuVn.js";import"./index-DDuQ3gsv.js";import"./sonner-BAI07Ub3.js";import"./index.es-CrC4eOKT.js";import"./index-BrjxS5b0.js";import"./progress-BtyeaZGH.js";import"./dialog-h4m6KRJP.js";import"./upload-BGDiebbv.js";const y=["application","payment","certificate","county","carrier"];function d(t){if(!t)return"—";const r=new Date(t);return Number.isNaN(r.getTime())?t.split("T")[0]??t:r.toLocaleDateString(void 0,{month:"short",day:"2-digit",year:"numeric"})}function G(){const{announcements:t,products:r,alerts:l,agent:g}=n().props;return e.jsxs(m,{children:[e.jsx(c,{title:"Dashboard"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsx(N,{role:"client",onlyStageKeys:y,showCompleteOnce:!0,hideCompleted:!1}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Announcements"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t!=null&&t.length?t.map(s=>e.jsxs(p,{className:"relative overflow-hidden",children:[e.jsx(x,{className:"flex items-center justify-between",children:e.jsx(h,{children:s.title})}),e.jsxs(j,{className:"relative space-y-2",children:[s.type==="video"?e.jsx("div",{className:"rounded-xl overflow-hidden",children:e.jsx(f,{src:s.content})}):s.type==="image"?e.jsx(u,{ratio:16/9,children:e.jsx("img",{src:s.content,alt:s.title,className:"w-full h-full object-cover rounded-xl"})}):e.jsx(i,{jsonString:s.content},`${s.id}-content`),s.description&&s.type!=="text"&&e.jsx("div",{className:"mt-2",children:e.jsx(i,{jsonString:s.description},`${s.id}-description`)})]})]},s.id)):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No announcements available."})})]}),e.jsxs("div",{className:"border rounded-xl p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"My Products"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-muted-foreground",children:[e.jsx("th",{className:"py-2 pr-4",children:"Product"}),e.jsx("th",{className:"py-2 pr-4",children:"Issue Date"}),e.jsx("th",{className:"py-2 pr-4",children:"Status"}),e.jsx("th",{className:"py-2 pr-4"})]})}),e.jsx("tbody",{children:r!=null&&r.length?r.map(s=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"py-2 pr-4",children:a(s.product)}),e.jsx("td",{className:"py-2 pr-4",children:d(s.sale_date)}),e.jsx("td",{className:"py-2 pr-4",children:s.status??"—"}),e.jsx("td",{className:"py-2 pr-4",children:e.jsx(o,{href:`/client/sales/${s.sale_id}`,className:"text-primary hover:underline",children:"View"})})]},s.sale_id)):e.jsx("tr",{children:e.jsx("td",{className:"py-4 text-muted-foreground",colSpan:4,children:"No products yet."})})})]})})]}),l!=null&&l.length?e.jsxs("div",{className:"border rounded-xl p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Upcoming Anniversaries"}),e.jsx("ul",{className:"text-sm list-disc pl-5 space-y-1",children:l.map(s=>e.jsxs("li",{children:[a(s.product)," — ",d(s.anniversary)]},`${s.sale_id}-${s.anniversary}`))})]}):null]})]})}export{G as default};
