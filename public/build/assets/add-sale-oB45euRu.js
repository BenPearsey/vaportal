import{R as ae,r as F,m as Pe,a as We,j as o,L as Ke,t as $e}from"./app-DUSEAaDk.js";import{A as Ue}from"./app-layout-admin-bPDzceOK.js";import{C as Ge,a as Ze,b as qe,c as He}from"./card-DLziDOQe.js";import{B as xe}from"./app-logo-icon-niQwcySJ.js";import{I as ze}from"./index-CsbLVuVn.js";import{L as z}from"./label-DgKyff4V.js";import{S as ie,a as oe,b as le,c as se,d as M}from"./select-Z5_1GfMY.js";import{a as Je}from"./products-FRIolfiG.js";import"./use-mobile-navigation-xAdiOegP.js";import"./index-DDuQ3gsv.js";import"./sonner-BAI07Ub3.js";import"./briefcase-business-D4N79Uzy.js";import"./users-Dz1g4iLP.js";import"./user-plus-BCs7l9Mm.js";import"./index-BxwQjuZr.js";import"./chevron-up-Dflxa-R7.js";function we(e,a){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r}var ue;(function(e){e.event="event",e.props="prop"})(ue||(ue={}));function J(){}function Qe(e){var a,r=void 0;return function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return a&&t.length===a.length&&t.every(function(l,u){return l===a[u]})||(a=t,r=e.apply(void 0,t)),r}}function de(e){return!!(e||"").match(/\d/)}function re(e){return e==null}function Xe(e){return typeof e=="number"&&isNaN(e)}function De(e){return re(e)||Xe(e)||typeof e=="number"&&!isFinite(e)}function Ie(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function Ye(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function ea(e,a,r){var t=Ye(r),n=e.search(/[1-9]/);return n=n===-1?e.length:n,e.substring(0,n)+e.substring(n,e.length).replace(t,"$1"+a)}function aa(e){var a=F.useRef(e);a.current=e;var r=F.useRef(function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return a.current.apply(a,t)});return r.current}function Se(e,a){a===void 0&&(a=!0);var r=e[0]==="-",t=r&&a;e=e.replace("-","");var n=e.split("."),l=n[0],u=n[1]||"";return{beforeDecimal:l,afterDecimal:u,hasNegation:r,addNegation:t}}function ra(e){if(!e)return e;var a=e[0]==="-";a&&(e=e.substring(1,e.length));var r=e.split("."),t=r[0].replace(/^0+/,"")||"0",n=r[1]||"";return(a?"-":"")+t+(n?"."+n:"")}function Ae(e,a,r){for(var t="",n=r?"0":"",l=0;l<=a-1;l++)t+=e[l]||n;return t}function Ne(e,a){return Array(a+1).join(e)}function _e(e){var a=e+"",r=a[0]==="-"?"-":"";r&&(a=a.substring(1));var t=a.split(/[eE]/g),n=t[0],l=t[1];if(l=Number(l),!l)return r+n;n=n.replace(".","");var u=1+l,p=n.length;return u<0?n="0."+Ne("0",Math.abs(u))+n:u>=p?n=n+Ne("0",u-p):n=(n.substring(0,u)||"0")+"."+n.substring(u),r+n}function Ce(e,a,r){if(["","-"].indexOf(e)!==-1)return e;var t=(e.indexOf(".")!==-1||r)&&a,n=Se(e),l=n.beforeDecimal,u=n.afterDecimal,p=n.hasNegation,x=parseFloat("0."+(u||"0")),S=u.length<=a?"0."+u:x.toFixed(a),N=S.split("."),h=l;l&&Number(N[0])&&(h=l.split("").reverse().reduce(function(D,I,g){return D.length>g?(Number(D[0])+Number(I)).toString()+D.substring(1,D.length):I+D},N[0]));var j=Ae(N[1]||"",a,r),i=p?"-":"",c=t?".":"";return""+i+h+c+j}function X(e,a){if(e.value=e.value,e!==null){if(e.createTextRange){var r=e.createTextRange();return r.move("character",a),r.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(a,a),!0):(e.focus(),!1)}}var Ee=Qe(function(e,a){for(var r=0,t=0,n=e.length,l=a.length;e[r]===a[r]&&r<n;)r++;for(;e[n-1-t]===a[l-1-t]&&l-t>r&&n-t>r;)t++;return{from:{start:r,end:n-t},to:{start:r,end:l-t}}}),ta=function(e,a){var r=Math.min(e.selectionStart,a);return{from:{start:r,end:e.selectionEnd},to:{start:r,end:a}}};function na(e,a,r){return Math.min(Math.max(e,a),r)}function pe(e){return Math.max(e.selectionStart,e.selectionEnd)}function ia(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function oa(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function la(e){var a=e.currentValue,r=e.formattedValue,t=e.currentValueIndex,n=e.formattedValueIndex;return a[t]===r[n]}function sa(e,a,r,t,n,l,u){u===void 0&&(u=la);var p=n.findIndex(function(W){return W}),x=e.slice(0,p);!a&&!r.startsWith(x)&&(a=x,r=x+r,t=t+x.length);for(var S=r.length,N=e.length,h={},j=new Array(S),i=0;i<S;i++){j[i]=-1;for(var c=0,D=N;c<D;c++){var I=u({currentValue:r,lastValue:a,formattedValue:e,currentValueIndex:i,formattedValueIndex:c});if(I&&h[c]!==!0){j[i]=c,h[c]=!0;break}}}for(var g=t;g<S&&(j[g]===-1||!l(r[g]));)g++;var R=g===S||j[g]===-1?N:j[g];for(g=t-1;g>0&&j[g]===-1;)g--;var B=g===-1||j[g]===-1?0:j[g]+1;return B>R?R:t-B<R-t?B:R}function Ve(e,a,r,t){var n=e.length;if(a=na(a,0,n),t==="left"){for(;a>=0&&!r[a];)a--;a===-1&&(a=r.indexOf(!0))}else{for(;a<=n&&!r[a];)a++;a>n&&(a=r.lastIndexOf(!0))}return a===-1&&(a=n),a}function ua(e){for(var a=Array.from({length:e.length+1}).map(function(){return!0}),r=0,t=a.length;r<t;r++)a[r]=!!(de(e[r])||de(e[r-1]));return a}function Oe(e,a,r,t,n,l){l===void 0&&(l=J);var u=aa(function(c,D){var I,g;return De(c)?(g="",I=""):typeof c=="number"||D?(g=typeof c=="number"?_e(c):c,I=t(g)):(g=n(c,void 0),I=t(g)),{formattedValue:I,numAsString:g}}),p=F.useState(function(){return u(re(e)?a:e,r)}),x=p[0],S=p[1],N=function(c,D){c.formattedValue!==x.formattedValue&&S({formattedValue:c.formattedValue,numAsString:c.value}),l(c,D)},h=e,j=r;re(e)&&(h=x.numAsString,j=!0);var i=u(h,j);return F.useMemo(function(){S(i)},[i.formattedValue]),[x,N]}function da(e){return e.replace(/[^0-9]/g,"")}function ca(e){return e}function fa(e){var a=e.type;a===void 0&&(a="text");var r=e.displayType;r===void 0&&(r="input");var t=e.customInput,n=e.renderText,l=e.getInputRef,u=e.format;u===void 0&&(u=ca);var p=e.removeFormatting;p===void 0&&(p=da);var x=e.defaultValue,S=e.valueIsNumericString,N=e.onValueChange,h=e.isAllowed,j=e.onChange;j===void 0&&(j=J);var i=e.onKeyDown;i===void 0&&(i=J);var c=e.onMouseUp;c===void 0&&(c=J);var D=e.onFocus;D===void 0&&(D=J);var I=e.onBlur;I===void 0&&(I=J);var g=e.value,R=e.getCaretBoundary;R===void 0&&(R=ua);var B=e.isValidInputCharacter;B===void 0&&(B=de);var W=e.isCharacterSame,L=we(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),Q=Oe(g,x,!!S,u,p,N),K=Q[0],V=K.formattedValue,k=K.numAsString,U=Q[1],P=F.useRef(),G=F.useRef({formattedValue:V,numAsString:k}),Z=function(s,d){G.current={formattedValue:s.formattedValue,numAsString:s.value},U(s,d)},Y=F.useState(!1),te=Y[0],m=Y[1],f=F.useRef(null),b=F.useRef({setCaretTimeout:null,focusTimeout:null});F.useEffect(function(){return m(!0),function(){clearTimeout(b.current.setCaretTimeout),clearTimeout(b.current.focusTimeout)}},[]);var _=u,E=function(s,d){var v=parseFloat(d);return{formattedValue:s,value:d,floatValue:isNaN(v)?void 0:v}},A=function(s,d,v){s.selectionStart===0&&s.selectionEnd===s.value.length||(X(s,d),b.current.setCaretTimeout=setTimeout(function(){s.value===v&&s.selectionStart!==d&&X(s,d)},0))},O=function(s,d,v){return Ve(s,d,R(s),v)},ee=function(s,d,v){var y=R(d),T=sa(d,V,s,v,y,B,W);return T=Ve(d,T,y),T},ve=function(s){var d=s.formattedValue;d===void 0&&(d="");var v=s.input,y=s.source,T=s.event,w=s.numAsString,C;if(v){var $=s.inputValue||v.value,q=pe(v);v.value=d,C=ee($,d,q),C!==void 0&&A(v,C,d)}d!==V&&Z(E(d,w),{event:T,source:y})};F.useEffect(function(){var s=G.current,d=s.formattedValue,v=s.numAsString;(V!==d||k!==v)&&Z(E(V,k),{event:void 0,source:ue.props})},[V,k]);var ne=f.current?pe(f.current):void 0,ce=typeof window<"u"?F.useLayoutEffect:F.useEffect;ce(function(){var s=f.current;if(V!==G.current.formattedValue&&s){var d=ee(G.current.formattedValue,V,ne);s.value=V,A(s,d,V)}},[V]);var me=function(s,d,v){var y=d.target,T=P.current?ta(P.current,y.selectionEnd):Ee(V,s),w=Object.assign(Object.assign({},T),{lastValue:V}),C=p(s,w),$=_(C);if(C=p($,void 0),h&&!h(E($,C))){var q=d.target,H=pe(q),he=ee(s,V,H);return q.value=V,A(q,he,V),!1}return ve({formattedValue:$,numAsString:C,inputValue:s,event:d,source:v,input:d.target}),!0},ge=function(s,d){d===void 0&&(d=0);var v=s.selectionStart,y=s.selectionEnd;P.current={selectionStart:v,selectionEnd:y+d}},Re=function(s){var d=s.target,v=d.value,y=me(v,s,ue.event);y&&j(s),P.current=void 0},Be=function(s){var d=s.target,v=s.key,y=d.selectionStart,T=d.selectionEnd,w=d.value;w===void 0&&(w="");var C;v==="ArrowLeft"||v==="Backspace"?C=Math.max(y-1,0):v==="ArrowRight"?C=Math.min(y+1,w.length):v==="Delete"&&(C=y);var $=0;v==="Delete"&&y===T&&($=1);var q=v==="ArrowLeft"||v==="ArrowRight";if(C===void 0||y!==T&&!q){i(s),ge(d,$);return}var H=C;if(q){var he=v==="ArrowLeft"?"left":"right";H=O(w,C,he),H!==C&&s.preventDefault()}else v==="Delete"&&!B(w[C])?H=O(w,C,"right"):v==="Backspace"&&!B(w[C])&&(H=O(w,C,"left"));H!==C&&A(d,H,w),i(s),ge(d,$)},Fe=function(s){var d=s.target,v=function(){var y=d.selectionStart,T=d.selectionEnd,w=d.value;if(w===void 0&&(w=""),y===T){var C=O(w,y);C!==y&&A(d,C,w)}};v(),requestAnimationFrame(function(){v()}),c(s),ge(d)},Te=function(s){s.persist&&s.persist();var d=s.target,v=s.currentTarget;f.current=d,b.current.focusTimeout=setTimeout(function(){var y=d.selectionStart,T=d.selectionEnd,w=d.value;w===void 0&&(w="");var C=O(w,y);C!==y&&!(y===0&&T===w.length)&&A(d,C,w),D(Object.assign(Object.assign({},s),{currentTarget:v}))},0)},Le=function(s){f.current=null,clearTimeout(b.current.focusTimeout),clearTimeout(b.current.setCaretTimeout),I(s)},ke=te&&ia()?"numeric":void 0,je=Object.assign({inputMode:ke},L,{type:a,value:V,onChange:Re,onKeyDown:Be,onMouseUp:Fe,onFocus:Te,onBlur:Le});if(r==="text")return n?ae.createElement(ae.Fragment,null,n(V,L)||null):ae.createElement("span",Object.assign({},L,{ref:l}),V);if(t){var Me=t;return ae.createElement(Me,Object.assign({},je,{ref:l}))}return ae.createElement("input",Object.assign({},je,{ref:l}))}function be(e,a){var r=a.decimalScale,t=a.fixedDecimalScale,n=a.prefix;n===void 0&&(n="");var l=a.suffix;l===void 0&&(l="");var u=a.allowNegative,p=a.thousandsGroupStyle;if(p===void 0&&(p="thousand"),e===""||e==="-")return e;var x=fe(a),S=x.thousandSeparator,N=x.decimalSeparator,h=r!==0&&e.indexOf(".")!==-1||r&&t,j=Se(e,u),i=j.beforeDecimal,c=j.afterDecimal,D=j.addNegation;return r!==void 0&&(c=Ae(c,r,!!t)),S&&(i=ea(i,S,p)),n&&(i=n+i),l&&(c=c+l),D&&(i="-"+i),e=i+(h&&N||"")+c,e}function fe(e){var a=e.decimalSeparator;a===void 0&&(a=".");var r=e.thousandSeparator,t=e.allowedDecimalSeparators;return r===!0&&(r=","),t||(t=[a,"."]),{decimalSeparator:a,thousandSeparator:r,allowedDecimalSeparators:t}}function va(e,a){e===void 0&&(e="");var r=new RegExp("(-)"),t=new RegExp("(-)(.)*(-)"),n=r.test(e),l=t.test(e);return e=e.replace(/-/g,""),n&&!l&&a&&(e="-"+e),e}function ma(e,a){return new RegExp("(^-)|[0-9]|"+Ie(e),"g")}function ga(e,a,r){return e===""?!0:!(a!=null&&a.match(/\d/))&&!(r!=null&&r.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function ha(e,a,r){var t;a===void 0&&(a=oa(e));var n=r.allowNegative,l=r.prefix;l===void 0&&(l="");var u=r.suffix;u===void 0&&(u="");var p=r.decimalScale,x=a.from,S=a.to,N=S.start,h=S.end,j=fe(r),i=j.allowedDecimalSeparators,c=j.decimalSeparator,D=e[h]===c;if(de(e)&&(e===l||e===u)&&a.lastValue==="")return e;if(h-N===1&&i.indexOf(e[N])!==-1){var I=p===0?"":c;e=e.substring(0,N)+I+e.substring(N+1,e.length)}var g=function(f,b,_){var E=!1,A=!1;l.startsWith("-")?E=!1:f.startsWith("--")?(E=!1,A=!0):u.startsWith("-")&&f.length===u.length?E=!1:f[0]==="-"&&(E=!0);var O=E?1:0;return A&&(O=2),O&&(f=f.substring(O),b-=O,_-=O),{value:f,start:b,end:_,hasNegation:E}},R=g(e,N,h),B=R.hasNegation;t=R,e=t.value,N=t.start,h=t.end;var W=g(a.lastValue,x.start,x.end),L=W.start,Q=W.end,K=W.value,V=e.substring(N,h);e.length&&K.length&&(L>K.length-u.length||Q<l.length)&&!(V&&u.startsWith(V))&&(e=K);var k=0;e.startsWith(l)?k+=l.length:N<l.length&&(k=N),e=e.substring(k),h-=k;var U=e.length,P=e.length-u.length;e.endsWith(u)?U=P:(h>P||h>e.length-u.length)&&(U=h),e=e.substring(0,U),e=va(B?"-"+e:e,n),e=(e.match(ma(c))||[]).join("");var G=e.indexOf(c);e=e.replace(new RegExp(Ie(c),"g"),function(f,b){return b===G?".":""});var Z=Se(e,n),Y=Z.beforeDecimal,te=Z.afterDecimal,m=Z.addNegation;return S.end-S.start<x.end-x.start&&Y===""&&D&&!parseFloat(te)&&(e=m?"-":""),e}function xa(e,a){var r=a.prefix;r===void 0&&(r="");var t=a.suffix;t===void 0&&(t="");var n=Array.from({length:e.length+1}).map(function(){return!0}),l=e[0]==="-";n.fill(!1,0,r.length+(l?1:0));var u=e.length;return n.fill(!1,u-t.length+1,u+1),n}function pa(e){var a=fe(e),r=a.thousandSeparator,t=a.decimalSeparator,n=e.prefix;n===void 0&&(n="");var l=e.allowNegative;if(l===void 0&&(l=!0),r===t)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+r+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+t+` (default value for decimalSeparator is .)
     `);return n.startsWith("-")&&l&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+n+`
      allowNegative: `+l+`
    `),l=!1),Object.assign(Object.assign({},e),{allowNegative:l})}function Sa(e){e=pa(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var a=e.suffix,r=e.allowNegative,t=e.allowLeadingZeros,n=e.onKeyDown;n===void 0&&(n=J);var l=e.onBlur;l===void 0&&(l=J);var u=e.thousandSeparator,p=e.decimalScale,x=e.fixedDecimalScale,S=e.prefix;S===void 0&&(S="");var N=e.defaultValue,h=e.value,j=e.valueIsNumericString,i=e.onValueChange,c=we(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),D=fe(e),I=D.decimalSeparator,g=D.allowedDecimalSeparators,R=function(m){return be(m,e)},B=function(m,f){return ha(m,f,e)},W=re(h)?N:h,L=j??ga(W,S,a);re(h)?re(N)||(L=L||typeof N=="number"):L=L||typeof h=="number";var Q=function(m){return De(m)?m:(typeof m=="number"&&(m=_e(m)),L&&typeof p=="number"?Ce(m,p,!!x):m)},K=Oe(Q(h),Q(N),!!L,R,B,i),V=K[0],k=V.numAsString,U=V.formattedValue,P=K[1],G=function(m){var f=m.target,b=m.key,_=f.selectionStart,E=f.selectionEnd,A=f.value;if(A===void 0&&(A=""),(b==="Backspace"||b==="Delete")&&E<S.length){m.preventDefault();return}if(_!==E){n(m);return}b==="Backspace"&&A[0]==="-"&&_===S.length+1&&r&&X(f,1),p&&x&&(b==="Backspace"&&A[_-1]===I?(X(f,_-1),m.preventDefault()):b==="Delete"&&A[_]===I&&m.preventDefault()),g!=null&&g.includes(b)&&A[_]===I&&X(f,_+1);var O=u===!0?",":u;b==="Backspace"&&A[_-1]===O&&X(f,_-1),b==="Delete"&&A[_]===O&&X(f,_+1),n(m)},Z=function(m){var f=k;if(f.match(/\d/g)||(f=""),t||(f=ra(f)),x&&p&&(f=Ce(f,p,x)),f!==k){var b=be(f,e);P({formattedValue:b,value:f,floatValue:parseFloat(f)},{event:m,source:ue.event})}l(m)},Y=function(m){return m===I?!0:de(m)},te=function(m){var f=m.currentValue,b=m.lastValue,_=m.formattedValue,E=m.currentValueIndex,A=m.formattedValueIndex,O=f[E],ee=_[A],ve=Ee(b,f),ne=ve.to,ce=function(me){return B(me).indexOf(".")+S.length};return h===0&&x&&p&&f[ne.start]===I&&ce(f)<E&&ce(_)>A?!1:E>=ne.start&&E<ne.end&&g&&g.includes(O)&&ee===I?!0:O===ee};return Object.assign(Object.assign({},c),{value:U,valueIsNumericString:!1,isValidInputCharacter:Y,isCharacterSame:te,onValueChange:P,format:R,removeFormatting:B,getCaretBoundary:function(m){return xa(m,e)},onKeyDown:G,onBlur:Z})}function ye(e){var a=Sa(e);return ae.createElement(fa,Object.assign({},a))}function Ta({agents:e,clients:a}){const{data:r,setData:t,post:n,processing:l,errors:u,reset:p}=Pe({agent_id:"",client_id:"",product:"",carrier:"",total_sale_amount:"",commission:"",sale_date:"",status:"Waiting for Funds"}),[x,S]=F.useState([]);console.log("Initial carrierOptions:",x),F.useEffect(()=>{r.product?We.get(route("admin.sales.carriers"),{params:{product:r.product}}).then(i=>{console.log("Carrier options response:",i.data);const c=Array.isArray(i.data)?i.data:[];S(c),t("carrier","")}).catch(i=>{console.error("Error fetching carrier options:",i),S([])}):S([])},[r.product,t]);const N=i=>{i.preventDefault(),n(route("admin.sales.store"),{onSuccess:()=>{$e("Sale added successfully!"),p()}})},h=[...e].sort((i,c)=>i.lastname.localeCompare(c.lastname)),j=[...a].sort((i,c)=>i.lastname.localeCompare(c.lastname));return o.jsxs(Ue,{breadcrumbs:[{title:"Sales",href:"/admin/sales"},{title:"Add Sale",href:"/admin/sales/create"}],children:[o.jsx(Ke,{title:"Add Sale"}),o.jsx("div",{className:"flex flex-col gap-6 p-6",children:o.jsxs(Ge,{children:[o.jsx(Ze,{children:o.jsx(qe,{children:"Add New Sale"})}),o.jsx(He,{children:o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(z,{htmlFor:"agent",children:"Agent"}),o.jsxs(ie,{onValueChange:i=>t("agent_id",i),children:[o.jsx(oe,{children:o.jsx(le,{placeholder:"Select an Agent"})}),o.jsx(se,{children:h.map(i=>o.jsxs(M,{value:String(i.id),children:[i.firstname," ",i.lastname]},i.id))})]}),u.agent_id&&o.jsx("p",{className:"text-red-500 text-sm",children:u.agent_id})]}),o.jsx("div",{className:"flex items-end",children:o.jsx(xe,{variant:"outline",onClick:()=>window.location.href="/admin/agents/create",children:"+ Add New Agent"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(z,{htmlFor:"client",children:"Client"}),o.jsxs(ie,{onValueChange:i=>t("client_id",i),children:[o.jsx(oe,{children:o.jsx(le,{placeholder:"Select a Client"})}),o.jsx(se,{children:j.map(i=>o.jsxs(M,{value:String(i.id||i.client_id),children:[i.firstname," ",i.lastname]},i.id||i.client_id))})]}),u.client_id&&o.jsx("p",{className:"text-red-500 text-sm",children:u.client_id})]}),o.jsx("div",{className:"flex items-end",children:o.jsx(xe,{variant:"outline",onClick:()=>window.location.href="/admin/clients/create",children:"+ Add New Client"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(z,{htmlFor:"product",children:"Product"}),o.jsxs(ie,{onValueChange:i=>t("product",i),children:[o.jsx(oe,{children:o.jsx(le,{placeholder:"Select a Product"})}),o.jsx(se,{children:Je.map(i=>o.jsx(M,{value:i.slug,children:i.label},i.slug))})]}),u.product&&o.jsx("p",{className:"text-red-500 text-sm",children:u.product})]}),o.jsxs("div",{children:[o.jsx(z,{htmlFor:"carrier",children:"Carrier"}),o.jsxs(ie,{onValueChange:i=>t("carrier",i),children:[o.jsx(oe,{children:o.jsx(le,{placeholder:"Select a Carrier"})}),o.jsx(se,{children:Array.isArray(x)&&x.length>0?x.map(i=>o.jsx(M,{value:String(i.id),children:i.name},i.id)):o.jsx(M,{value:"none",disabled:!0,children:"No carriers available"})})]}),u.carrier&&o.jsx("p",{className:"text-red-500 text-sm",children:u.carrier})]}),o.jsxs("div",{children:[o.jsx(z,{children:"Total Sale Amount"}),o.jsx(ye,{thousandSeparator:!0,prefix:"$",decimalScale:2,fixedDecimalScale:!0,allowNegative:!1,value:r.total_sale_amount,onValueChange:i=>t("total_sale_amount",i.floatValue??""),className:"w-full border rounded px-3 py-2"}),o.jsx(z,{children:"Commission"}),o.jsx(ye,{thousandSeparator:!0,prefix:"$",decimalScale:2,fixedDecimalScale:!0,allowNegative:!1,value:r.commission,onValueChange:i=>t("commission",i.floatValue??""),className:"w-full border rounded px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx(z,{htmlFor:"sale_date",children:"Sale Date"}),o.jsx(ze,{id:"sale_date",type:"date",value:r.sale_date,onChange:i=>t("sale_date",i.target.value)}),u.sale_date&&o.jsx("p",{className:"text-red-500 text-sm",children:u.sale_date})]})]}),o.jsxs("div",{children:[o.jsx(z,{htmlFor:"status",children:"Status"}),o.jsxs(ie,{onValueChange:i=>t("status",i),children:[o.jsx(oe,{children:o.jsx(le,{placeholder:"Select Status"})}),o.jsxs(se,{children:[o.jsx(M,{value:"Waiting for Funds",children:"Waiting for Funds"}),o.jsx(M,{value:"Waiting for Documents",children:"Waiting for Documents"}),o.jsx(M,{value:"Processing",children:"Processing"}),o.jsx(M,{value:"Waiting for Carrier",children:"Waiting for Carrier"}),o.jsx(M,{value:"Completed",children:"Completed"}),o.jsx(M,{value:"Cancelled",children:"Cancelled"})]})]}),u.status&&o.jsx("p",{className:"text-red-500 text-sm",children:u.status})]}),o.jsx(xe,{type:"submit",disabled:l,className:"w-full mt-4",children:l?"Saving...":"Save Sale"})]})})]})})]})}export{Ta as default};
