import{K as p,m as j,j as e,L as u,$ as v,t as g,S as b}from"./app-DUSEAaDk.js";import{A as N}from"./app-layout-admin-bPDzceOK.js";import{C,a as f,b as _,c as k}from"./card-DLziDOQe.js";import{B as d}from"./app-logo-icon-niQwcySJ.js";import{I as r}from"./index-CsbLVuVn.js";import{D as y,a as A,b as D,c as o}from"./use-mobile-navigation-xAdiOegP.js";import{C as M}from"./checkbox-Dj6NJVxR.js";import{L}from"./label-DgKyff4V.js";import"./sonner-BAI07Ub3.js";import"./briefcase-business-D4N79Uzy.js";import"./users-Dz1g4iLP.js";import"./user-plus-BCs7l9Mm.js";import"./index-DDuQ3gsv.js";import"./index-BxwQjuZr.js";function q(){var c,m;const{agents:n=[]}=p().props,{data:l,setData:i,post:x,processing:t,errors:s,reset:w}=j({prefix:"",firstname:"",middle:"",lastname:"",nickname:"",email:"",phone:"",address:"",city:"",zipcode:"",company:"",upline_agent_id:"",create_user:!0}),h=a=>{a.preventDefault(),x(route("admin.agents.store"),{onSuccess:()=>{g(l.create_user?"Agent + portal user created. Temp password e-mailed.":"Agent added (no user account)."),b.visit(route("admin.agents"))}})};return e.jsxs(N,{children:[e.jsx(u,{title:"Add Agent"}),e.jsx("div",{className:"p-6",children:e.jsxs(C,{children:[e.jsx(f,{children:e.jsx(_,{children:"Add New Agent"})}),e.jsx(k,{children:e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Prefix"}),e.jsx(r,{value:l.prefix,onChange:a=>i("prefix",a.target.value),placeholder:"e.g., Mr., Ms., Dr."}),s.prefix&&e.jsx("div",{className:"text-red-500",children:s.prefix[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"First Name"}),e.jsx(r,{value:l.firstname,onChange:a=>i("firstname",a.target.value),placeholder:"First Name"}),s.firstname&&e.jsx("div",{className:"text-red-500",children:s.firstname[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Middle Name"}),e.jsx(r,{value:l.middle,onChange:a=>i("middle",a.target.value),placeholder:"Middle Name (optional)"}),s.middle&&e.jsx("div",{className:"text-red-500",children:s.middle[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Last Name"}),e.jsx(r,{value:l.lastname,onChange:a=>i("lastname",a.target.value),placeholder:"Last Name"}),s.lastname&&e.jsx("div",{className:"text-red-500",children:s.lastname[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Nickname"}),e.jsx(r,{value:l.nickname,onChange:a=>i("nickname",a.target.value),placeholder:"Nickname (optional)"}),s.nickname&&e.jsx("div",{className:"text-red-500",children:s.nickname[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Email"}),e.jsx(r,{type:"email",value:l.email,onChange:a=>i("email",a.target.value),placeholder:"Email Address"}),s.email&&e.jsx("div",{className:"text-red-500",children:s.email[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Phone"}),e.jsx(r,{value:l.phone,onChange:a=>i("phone",a.target.value),placeholder:"Phone Number"}),s.phone&&e.jsx("div",{className:"text-red-500",children:s.phone[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Address"}),e.jsx(r,{value:l.address,onChange:a=>i("address",a.target.value),placeholder:"Street Address"}),s.address&&e.jsx("div",{className:"text-red-500",children:s.address[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"City"}),e.jsx(r,{value:l.city,onChange:a=>i("city",a.target.value),placeholder:"City"}),s.city&&e.jsx("div",{className:"text-red-500",children:s.city[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Zip Code"}),e.jsx(r,{value:l.zipcode,onChange:a=>i("zipcode",a.target.value),placeholder:"Zip Code"}),s.zipcode&&e.jsx("div",{className:"text-red-500",children:s.zipcode[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Company"}),e.jsx(r,{value:l.company,onChange:a=>i("company",a.target.value),placeholder:"Company Name (optional)"}),s.company&&e.jsx("div",{className:"text-red-500",children:s.company[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Upline Agent"}),e.jsxs(y,{children:[e.jsx(A,{asChild:!0,children:e.jsx(d,{variant:"outline",children:l.upline_agent_id?`${(c=n.find(a=>a.agent_id===Number(l.upline_agent_id)))==null?void 0:c.firstname} ${(m=n.find(a=>a.agent_id===Number(l.upline_agent_id)))==null?void 0:m.lastname}`:"Direct"})}),e.jsxs(D,{children:[e.jsx(o,{onClick:()=>i("upline_agent_id",""),children:"Direct"}),n.map(a=>e.jsxs(o,{onClick:()=>i("upline_agent_id",a.agent_id.toString()),children:[a.firstname," ",a.lastname," (ID:",a.agent_id,")"]},a.agent_id))]})]}),s.upline_agent_id&&e.jsx("div",{className:"text-red-500",children:s.upline_agent_id[0]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(M,{checked:l.create_user,onCheckedChange:a=>i("create_user",!!a),id:"create_user"}),e.jsx(L,{htmlFor:"create_user",children:"Create portal user & send login email"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(d,{type:"submit",disabled:t,children:t?"Creatingâ€¦":"Create Agent"}),e.jsx(v,{href:route("admin.agents"),children:e.jsx(d,{variant:"outline",children:"Cancel"})})]})]})})]})})]})}export{q as default};
