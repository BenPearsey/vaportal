import{m as p,j as e,L as g,t as v}from"./app-DUSEAaDk.js";import{A as f}from"./app-layout-admin-bPDzceOK.js";import{I as d}from"./index-CsbLVuVn.js";import{T as C}from"./textarea-0Uq4mV0-.js";import{B as _}from"./app-logo-icon-niQwcySJ.js";import{S as n,a as i,c as r,d as l}from"./select-Z5_1GfMY.js";import{C as b,a as N,b as S,c as w}from"./card-DLziDOQe.js";import"./use-mobile-navigation-xAdiOegP.js";import"./index-DDuQ3gsv.js";import"./sonner-BAI07Ub3.js";import"./briefcase-business-D4N79Uzy.js";import"./users-Dz1g4iLP.js";import"./user-plus-BCs7l9Mm.js";import"./index-BxwQjuZr.js";import"./chevron-up-Dflxa-R7.js";function z({agents:o,clients:m}){const{data:s,setData:t,post:x,processing:c,errors:u}=p({title:"",body:"",audience:"all_agents",agent_id:"",client_id:"",link:""}),h=s.audience==="single_agent",j=s.audience==="single_client";return e.jsxs(f,{breadcrumbs:[{title:"Broadcasts",href:route("admin.broadcasts.index")},{title:"New",href:"#"}],children:[e.jsx(g,{title:"New Broadcast"}),e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs(b,{children:[e.jsx(N,{children:e.jsx(S,{children:"New Broadcast"})}),e.jsxs(w,{className:"space-y-4",children:[e.jsx(d,{placeholder:"Title",value:s.title,onChange:a=>t("title",a.target.value)}),e.jsx(C,{placeholder:"Message…",rows:5,value:s.body,onChange:a=>t("body",a.target.value)}),e.jsx(d,{placeholder:"Optional link (https://…)",value:s.link,onChange:a=>t("link",a.target.value)}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Audience"}),e.jsxs(n,{value:s.audience,onValueChange:a=>t("audience",a),children:[e.jsx(i,{}),e.jsxs(r,{children:[e.jsx(l,{value:"all_agents",children:"All agents"}),e.jsx(l,{value:"all_clients",children:"All clients"}),e.jsx(l,{value:"single_agent",children:"One agent"}),e.jsx(l,{value:"single_client",children:"One client"})]})]})]}),h&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Agent"}),e.jsxs(n,{value:s.agent_id,onValueChange:a=>t("agent_id",a),children:[e.jsx(i,{}),e.jsx(r,{children:o.map(a=>e.jsxs(l,{value:String(a.agent_id),children:[a.firstname," ",a.lastname]},a.agent_id))})]})]}),j&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Client"}),e.jsxs(n,{value:s.client_id,onValueChange:a=>t("client_id",a),children:[e.jsx(i,{}),e.jsx(r,{children:m.map(a=>e.jsxs(l,{value:String(a.client_id),children:[a.firstname," ",a.lastname]},a.client_id))})]})]}),Object.values(u).map(a=>e.jsx("p",{className:"text-sm text-red-500",children:a},a)),e.jsx(_,{className:"w-full",disabled:c,onClick:()=>x(route("admin.broadcasts.store"),{onSuccess:()=>v("Broadcast sent!")}),children:c?"Sending…":"Send Broadcast"})]})]})})]})}export{z as default};
