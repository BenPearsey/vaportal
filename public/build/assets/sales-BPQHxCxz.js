import{K as I,r as a,S as x,j as e,L as F,$ as M}from"./app-DUSEAaDk.js";import{A as P}from"./app-layout-agent-jUzQTb5-.js";import{C as h,a as m,b as u,c as j}from"./card-DLziDOQe.js";import{I as B}from"./index-CsbLVuVn.js";import{B as l}from"./app-logo-icon-niQwcySJ.js";import{T as H,a as U,b as y,c as r,d as $,e as t}from"./table-DFxtelq1.js";import{D as p,a as f,b as g,c as S}from"./use-mobile-navigation-xAdiOegP.js";import{F as b}from"./filter-DnKLZ143.js";import{E as k}from"./eye-Dzot2m_d.js";import"./sonner-BAI07Ub3.js";import"./briefcase-business-D4N79Uzy.js";import"./user-C2oc2Una.js";import"./index-DDuQ3gsv.js";const v={trust:"Trust",precious_metals:"Precious Metals",term_life:"Term Life",iul:"IUL",whole_life:"Whole Life",annuity:"Annuity",final_expense:"Final Expense","10_term":"10 Term","20_term":"20 Term","30_term":"30 Term"};function ee(){const{sales:C,stats:c,filters:d,selected:i}=I().props,[o,_]=a.useState(i.search||""),[w,L]=a.useState(i.status||"All"),[N,A]=a.useState(i.product||"All"),[T,D]=a.useState(i.carrier??"All"),E=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return a.useEffect(()=>{x.get(route("agent.sales"),{search:o,status:w,product:N,carrier:T},{preserveState:!0,replace:!0})},[o,w,N,T]),e.jsxs(P,{breadcrumbs:[{title:"Sales",href:route("agent.sales")}],children:[e.jsx(F,{title:"Agent Sales"}),e.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(h,{children:[e.jsx(m,{children:e.jsx(u,{children:"Total Sales"})}),e.jsx(j,{className:"text-3xl font-bold",children:c.totalSales.toLocaleString()})]}),e.jsxs(h,{children:[e.jsx(m,{children:e.jsx(u,{children:"Pending Sales"})}),e.jsx(j,{className:"text-3xl font-bold",children:c.pending.toLocaleString()})]}),e.jsxs(h,{children:[e.jsx(m,{children:e.jsx(u,{children:"Completed Sales"})}),e.jsx(j,{className:"text-3xl font-bold",children:c.completed.toLocaleString()})]})]}),e.jsxs("div",{className:"flex justify-between gap-4",children:[e.jsx(B,{placeholder:"Search by Client…",value:o,onChange:s=>_(s.currentTarget.value),className:"max-w-sm"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(l,{onClick:()=>x.get(route("agent.sales.create")),children:"Submit Sale"}),e.jsxs(p,{children:[e.jsx(f,{asChild:!0,children:e.jsxs(l,{variant:"outline",children:[e.jsx(b,{className:"w-4 h-4 mr-2"})," Status"]})}),e.jsx(g,{children:d.statuses.map(s=>e.jsx(S,{onClick:()=>L(s),children:s},s))})]}),e.jsxs(p,{children:[e.jsx(f,{asChild:!0,children:e.jsxs(l,{variant:"outline",children:[e.jsx(b,{className:"w-4 h-4 mr-2"})," Product"]})}),e.jsx(g,{children:d.products.map(s=>e.jsx(S,{onClick:()=>A(s),children:v[s]??s},s))})]}),e.jsxs(p,{children:[e.jsx(f,{asChild:!0,children:e.jsxs(l,{variant:"outline",children:[e.jsx(b,{className:"w-4 h-4 mr-2"})," Carrier"]})}),e.jsx(g,{children:d.carriers.map(s=>e.jsx(S,{onClick:()=>D(s.id),children:s.name},s.id))})]})]})]}),e.jsxs("div",{className:"border rounded-xl p-4 bg-white shadow",children:[e.jsxs(H,{children:[e.jsx(U,{children:e.jsxs(y,{children:[e.jsx(r,{children:"ID"}),e.jsx(r,{children:"Client"}),e.jsx(r,{children:"Product"}),e.jsx(r,{children:"Carrier"}),e.jsx(r,{children:"Amount"}),e.jsx(r,{children:"Status"}),e.jsx(r,{children:"Date"}),e.jsx(r,{children:"Actions"})]})}),e.jsx($,{children:C.data.map(s=>{var n;return e.jsxs(y,{children:[e.jsx(t,{children:s.sale_id}),e.jsxs(t,{children:[s.client.firstname," ",s.client.lastname]}),e.jsx(t,{children:v[s.product]??s.product}),e.jsx(t,{children:((n=s.carrier_info)==null?void 0:n.name)??"—"}),e.jsx(t,{children:E.format(s.total_sale_amount)}),e.jsx(t,{children:s.status}),e.jsx(t,{children:s.sale_date}),e.jsx(t,{className:"flex gap-2",children:e.jsx(l,{size:"icon",variant:"ghost",asChild:!0,children:e.jsx(M,{href:route("agent.sales.show",s.sale_id),children:e.jsx(k,{className:"w-4 h-4"})})})})]},s.sale_id)})})]}),e.jsx("div",{className:"mt-4 flex justify-center",children:C.links.map((s,n)=>e.jsx("button",{disabled:!s.url,onClick:()=>s.url&&x.get(s.url,{},{preserveState:!0,replace:!0}),className:`px-3 py-1 mx-1 rounded ${s.active?"bg-primary text-white":"bg-gray-100"}`,children:s.label.replace(/&laquo;|&raquo;/g,"")},n))})]})]})]})}export{ee as default};
