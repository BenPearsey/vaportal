import{K as w,j as e,L as y,$ as h}from"./app-DUSEAaDk.js";import{A as C}from"./app-layout-admin-bPDzceOK.js";import{C as a,a as i,b as o,c as n}from"./card-DLziDOQe.js";import{A as v}from"./aspect-ratio-m4L15rbP.js";import{V as A,R as p}from"./VideoPlayer-D4BTTsRK.js";import{B as j}from"./app-logo-icon-niQwcySJ.js";import{P as D}from"./play-xm-Jjtp6.js";import{F as M}from"./file-text-Lb0kZEB0.js";import{C as S}from"./clipboard-list-Dg4pp0_3.js";import{L as Y}from"./layout-grid-CDLtZlK7.js";import{C as F,U as L}from"./user-plus-BCs7l9Mm.js";import"./use-mobile-navigation-xAdiOegP.js";import"./index-CsbLVuVn.js";import"./index-DDuQ3gsv.js";import"./sonner-BAI07Ub3.js";import"./briefcase-business-D4N79Uzy.js";import"./users-Dz1g4iLP.js";import"./index.es-CrC4eOKT.js";import"./index-BrjxS5b0.js";const P=[{title:"Home",href:"/admin/dashboard"}];function X(){const d=w().props,c=d.announcements??[],t=d.sales??[],m=d.clients??[];console.log("Dashboard props:",{announcements:c,sales:t,clients:m});const x=new Date,r=x.getFullYear(),f=x.getMonth(),u=t.filter(s=>!["Completed","Matured","Cancelled"].includes(s.status)).length,g=t.filter(s=>{if(s.status!=="Completed")return!1;const l=new Date(s.sale_date);return l.getMonth()===f&&l.getFullYear()===r}).length,N=t.filter(s=>s.status!=="Completed"?!1:new Date(s.sale_date).getFullYear()===r).length,b=m.filter(s=>new Date(s.created_at).getFullYear()!==r?!1:t.some(l=>l.status==="Completed"&&l.client_id===s.client_id)).length;return e.jsxs(C,{breadcrumbs:P,children:[e.jsx(y,{title:"Home"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Announcements"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{href:route("announcements.create"),className:"btn btn-outline",children:e.jsx(j,{variant:"outline",children:"Add New Announcement"})}),e.jsx(h,{href:route("admin.announcement.manage"),className:"btn btn-outline",children:e.jsx(j,{variant:"outline",children:"Manage Announcements"})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:c.length>0?c.map(s=>e.jsxs(a,{className:"relative overflow-hidden",children:[e.jsxs(i,{className:"flex items-center justify-between",children:[e.jsx(o,{children:s.title}),s.type==="video"&&e.jsx(D,{className:"h-6 w-6 text-primary"}),s.type==="image"&&e.jsx(M,{className:"h-6 w-6 text-primary"})]}),e.jsxs(n,{className:"relative space-y-2",children:[s.type==="video"?e.jsx("div",{className:"rounded-xl overflow-hidden",children:e.jsx(A,{src:s.content})}):s.type==="image"?e.jsx(v,{ratio:16/9,children:e.jsx("img",{src:s.content,alt:s.title,className:"w-full h-full object-cover rounded-xl"})}):e.jsx(p,{jsonString:s.content},s.id+s.content),s.description&&s.type!=="text"&&e.jsx("div",{className:"mt-2",children:e.jsx(p,{jsonString:s.description},s.id+s.description)})]})]},s.id)):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No announcements available."})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(a,{children:[e.jsxs(i,{className:"flex items-center justify-between",children:[e.jsx(o,{children:"Pending Sales"}),e.jsx(S,{className:"h-6 w-6 text-primary"})]}),e.jsx(n,{className:"text-3xl font-bold",children:u})]}),e.jsxs(a,{children:[e.jsxs(i,{className:"flex items-center justify-between",children:[e.jsx(o,{children:"Sales Completed This Month"}),e.jsx(Y,{className:"h-6 w-6 text-primary"})]}),e.jsx(n,{className:"text-3xl font-bold",children:g})]}),e.jsxs(a,{children:[e.jsxs(i,{className:"flex items-center justify-between",children:[e.jsxs(o,{children:["Sales Completed ",r]}),e.jsx(F,{className:"h-6 w-6 text-primary"})]}),e.jsx(n,{className:"text-3xl font-bold",children:N})]}),e.jsxs(a,{children:[e.jsxs(i,{className:"flex items-center justify-between",children:[e.jsxs(o,{children:["New Clients for ",r]}),e.jsx(L,{className:"h-6 w-6 text-primary"})]}),e.jsx(n,{className:"text-3xl font-bold",children:b})]})]})]})]})}export{X as default};
